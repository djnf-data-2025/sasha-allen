---
title: "Sasha Allen Disconnected Youth"
output: html_document
date: "2025-04-22"
---

One in three students are at risk of not graduating high school in Connecticut as of 2022 which is  a result of the disconnected youth crisis where students are dropping out of school or barely passing with no career or college opportunities in early adulthood. I have identified the areas that have been impacted the hardest and am comparing them to the median household income and the per-pupil state, local and federal education funding in each district to the accountability index, which is the percentage of total possible points earned by each district and school. So far, I have found there is some relationship between low per-pupil funding and low accountability index rates but will continue to look into both of these areas 

This story is extremely timely because this issue has been brought to light in the past year, and there was legislation introduced this session to increase funding for at-risk students. The target audience for this story is anyone in Connecticut who is in the school system or knows anyone involved in the school system. This way, they can be more informed on what the state is trying to  do as well as the contributing factors to the crisis. 

People to interview are: 
Rep. Anthony L. Nolan, he introduced a bill to increase education funding.
Donna Hamzy, helped craft the Young People's Plan, which is a ten year plan for funding to help the crisis.
Someone from the bill testimony could be a good place to start with people closely connected to the issue, preferably a student who has experienced disconnection in the school system. (https://www.cga.ct.gov/aspx/CGADisplayTestimonies/CGADisplayTestimony.aspx?bill=SB-01511&doc_year=2025)

This could possibly impact the funding for education, although it seems like there is already some initiative to change policy. Hopefully from this more nonprofits will be able to help supplement in high need areas from this as well. This topic has been covered, but not in the way I am hoping to explore the issue. Much of the legislation has been reported on, but I want to focus more on the issues that the areas with the most youth in crisis are facing that can contribute to the level of crisis in these areas. 
=======
Hi Sasha - Good to see an advance in the research and more details about the project. Good to see the narrative integrated with the code on the .rmd document.

So, you're still struggling to get a handle on this. Let's look at the main finding: one in three kids are dropping out or "are at risk" of dropping out. What does that mean? Are they dropping out or not?

I would try to get the basic dropout rate first.

1) How does that compare to the national average?
2) What is the trend in the dropout rate?
3) What are the factors driving the dropout rate?
4) Can we get dropout rates by school district?
>>>>>>> 56d6ff4aee52105fbf63cf08637896155c4b8e2b

I think getting some enrollment data for the school districts would help. Then you can calculate the funds per student and the dropout rate and see if more money is working or not.

I hope this is helpful! See my comments on your .RMD document. 

**\*\*rsw comment: let's tighten up this opening sentence. it's a mouthful** . **Below you say one in three students are dropping out. that caught my eye**\*\* One in three students are at risk of not graduating high school in Connecticut which is a result of the disconnected youth crisis where students are dropping out of school or barely passing with no career or college opportunities in early adulthood. I have identified the areas that **rsw comment: better, more active phrase?** [have been impacted the hardest]{.underline} and am comparing them to the median household income and the per-pupil state, local and federal education funding in each district to [the accountability index,]{.underline} **rsw comment: you'll want to explain this in more specific terms** which is the percentage of total possible points earned by each district and school. So far, I have found there is some relationship between low per-pupil funding and low accountability index rates but will continue to look into this.

This story is extremely timely because [this issue has been brought to light in the past year]{.underline} **rsw comment: how?**, and there was legislation that was introduced this [session]{.underline} **of the Connecticut House? Senate?** to increase funding for at-risk students. The target audience for this story is anyone in Connecticut who is in the school system or knows anyone involved in the school system **rsw comments: parents, students, teachers, family members and friends of students**. This way, they can be more informed on what the state is trying to do as well as the contributing factors to the crisis.

People to interview are: Rep. Anthony L. Nolan, he introduced a bill to increase education funding. Donna Hamzy, helped craft the Young People's Plan, which is a ten year plan for funding to help the crisis. ~~Someone from the bill testimony~~ **RSW COMMENT: A person who testified during the legislative hearings** could be a good place to start with people closely connected to the issue, preferrably a student who has experienced disconnection in the school system. (<https://www.cga.ct.gov/aspx/CGADisplayTestimonies/CGADisplayTestimony.aspx?bill=SB-01511&doc_year=2025>)

This could possibly impact the funding for education, although it seems like there is already some initiative to change policy. Hopefully from this more nonprofits will be able to help supplement in high need areas from this as well.

I was mainly interested in this story because I had never heard of the disconnected youth crisis before and for a rich state known for having a fairly good education system, **rsw comment: great. how many thousands of young people would this represent?** **one in three students should not be dropping out.** I think it will be interesting to see if there are other underlying issues, and if I am able I also want to look into the incarceration rates of young people to see if they match up to areas experiencing high rates of disconnected youth. However, this data was not readily available so I need to get this before I can look into it.

Photo and graphics: Map of the issue zipcodes or districts, double bar graph of the top issue districts or zipcodes and the per-pupil funding in each area, same thing with the census data on median household income. Photos of students who are featured in the interview?

<<<<<<< HEAD
I need to gather more data then I have right now. I need census data on median household income, the incarceration data and I need to keep up with the ongoing legislation and spending. I also want to see if there are any nonprofits making a major impact in any of these areas on students. It is possible there are a lot, it was mentioned in the legislation. 

Estimated delivery is beginning of July.
=======
I need to gather more data then I have right now. I need census data on median household income, the incarceration data and I need to keep up with the ongoing legislation **rsw comment: definitely try to get the legislative hearing record which might have more details and data** and spending. I also want to see if there are any nonprofits dedicated to supporting the crisis and where these organizations are located.

Estimated delivery is
>>>>>>> 56d6ff4aee52105fbf63cf08637896155c4b8e2b

```{r}
library(tidyverse)
library(janitor)
library(readxl)
library(rvest)
library(tidycensus)
library(scales)
library(stringr)
library(readr)
```

```{r}
#disconnected youth data
next_gen <- read.csv("../data/next_gen.csv") |> 
    clean_names()
#zip code data (disconnected youth has no zip)
zips_ct <- read.csv("../data/zips_ct.csv")|>
  clean_names()

zips_ct <- zips_ct |> rename(
  reporting_district_code = organization_code,
)

#per pupil funding data split down to the district, 2017 to 2022  https://public-edsight.ct.gov/overview/per-pupil-expenditures-by-function---district/per-pupil-expenditures-by-funding-source---summary?language=en_US

pp_21_22 <- read.csv("../data/per_pupil_2122.csv")|>
  clean_names() |>
  mutate(year = "21-22")

pp_20_21 <- read.csv("../data/per_pupil_2021.csv")|>
  clean_names()|>
  mutate(year = "20-21")

pp_19_20 <- read.csv("../data/per_pupil_1920.csv")|>
  clean_names()|>
  mutate(year = "19-20")

pp_18_19 <- read.csv("../data/per_pupil_1819.csv")|>
  clean_names()|>
  mutate(year = "18-19")

pp_17_18 <- read.csv("../data/per_pupil_1718.csv")|>
  clean_names()|>
  mutate(year = "17-18")
  
per_pupil_all <- bind_rows(pp_17_18, pp_18_19, pp_19_20, pp_20_21, pp_21_22)

per_pupil_all <- per_pupil_all|> rename(
  reporting_district_code = district_code,
)

#statewide per pupil funding 
pp_statewide <- read.csv("../data/per_pupil_state2.csv")|>
  clean_names()

#graduation rate
graduation_rate_state<- read.csv("../data/state_graduation.csv")|>
  clean_names()
  
graduation_rate <- read.csv("../data/graduation_rates1.csv")|>
  clean_names()

#dropout rate by district
dropout_rate <- read.csv("../data/dropout_rates1.csv")|>
  clean_names()

#percent of students in high school for more than four years
still_enrolled <- read.csv("../data/over_four_year_enrollment.csv")|>
  clean_names()

#enrollment by district 
enrollment_district <- read.csv("../data/enrollement_district.csv")|>
  clean_names()

```


```{r}
#converting the year in per-pupil statewide data to just include the year in the fall of the school year so i can use it in the graphs below

pp_statewide <- pp_statewide |>
  mutate(
    # Remove $ and commas, convert to numeric
    ppe_numeric = str_remove_all(ppe, "[$,]") |> as.numeric(),
    # Format numeric values with commas
    ppe_formatted = comma(ppe_numeric)
  )

```

```{r}
#filter out percent
next_gen_pct <- next_gen |>
  filter(category == "DistrictTot")|>
  select(rptng_district_name, reporting_district_code, total_points, total_possible_points, fall_of_year, accountability_index) 

#join dataset w/ zips and town name to the disconnected dataset (could use this for viz purposes)
zips_ct_selected <- zips_ct |> select(zipcode, reporting_district_code, town)
zip_percentage <- left_join(next_gen_pct, zips_ct_selected, by = "reporting_district_code")

#zip for 2021-2022 per pupil funding 
pp_21_22 <- left_join(pp_21_22, zips_ct_selected, by = c("district_code" = "reporting_district_code"))

#dropout, graduation, and still in school data 
dropout_rate <- dropout_rate |> rename(
  reporting_district_code = district_code,
)

still_enrolled <- still_enrolled|> rename(
  reporting_district_code = district_code,
)

graduation_rate <- graduation_rate |> rename(
  reporting_district_code = district_code,
)

dropout_rate <- left_join(dropout_rate, zips_ct_selected, by = "reporting_district_code")

graduation_rate <- left_join(graduation_rate, zips_ct_selected, by = "reporting_district_code")

still_enrolled <- left_join(still_enrolled, zips_ct_selected, by = "reporting_district_code")

#add zips to the per-pupil funding dataset
per_pupil_all <- left_join(per_pupil_all, zips_ct_selected, by = "reporting_district_code")

#counties with the highest rates of disconnected youth
#zip_pct_peryear <- zip_percentage |>
 # summarise(yearly_pct_avg = sum()
 # )
```

# rsw comment: good stuff. now let's get enrollment per district and get a funds per student statistic so we can compare. dept of education or connecticut school board would have enrollment data.,
```{r}
#this is per-pupil funding stats that combine local, fed and state funding split down by zipcode, just for the 2021 to 2022 school year. 
pp_21_22 |>
  arrange(total) |>
  select(total, zipcode, district)
```
#rsw comment: zip_percentage was not created so this code fails
```{r}
#finding districts and zip codes with the highest dropout rates (this is hard because there is not data for all districts)
dropout_rate |>
  arrange(desc(x2021_22)) |>
  select(x2021_22, zipcode, district)
```


```{r}
graduation_rate |>
  arrange(x2021_22) |>
  select(x2021_22, zipcode, district)
```
```{r}
next_gen_state <- next_gen |>
  filter(school_name == "State of Connecticut")|>
  select(fall_of_year, category, total_points, total_possible_points, accountability_index)|>
  arrange(fall_of_year)
```

```{r}
#The higher the accountability index, the better prepared students are. Students have been doing worse in the state since 2014 based on a series of factors. There was no data for 2019 or 2020.
ggplot(next_gen_state, aes(x = fall_of_year, y = accountability_index)) +
  geom_line(color = "blue", size = .5) +
  ylim(65, 80) +
  geom_point(color = "darkblue", size = 1) +  # optional points
  labs(
    #title is horrible but this was just for comparison purposes
    title = "Accountability Index by Year",
    x = "Fall of School Year",
    #this is based on the accountability index scores, or  the percent of the total number of possible points received based on the scoring system
    y = "Percent of total possible points recieved"
  ) +
  theme_minimal()
```
```{r}
#this is the per-pupil funding statewide in a rough graph. Despite a pretty steady increase in per-pupil funding, there is still a steady decrease in the accountability index (a high accountability index is good). I think this would be a great focus for the story, but i need to break down into a more micro view to see issues in specific counties.
ggplot(pp_statewide, aes(x = fall_of_year, y = ppe_numeric)) +
  geom_line(color = "blue", size = .5) +
  ylim(14000, 20000) +
  geom_point(color = "darkblue", size = 1) +  # optional points
  labs(
    title = "Connecticut Per-Pupil Funding Over Time",
    x = "Fall of school year",
    y = "Per-Pupil Funding"
  ) +
  theme_minimal()
```

```{r}
#comparing Connecticut state funding to the average funding per-pupil nation-wide. after this, i want to look at the dropout rates nationally and state-wide to see if the state's are above or below average, and compare from that. Then I want to 

#average the accountability index for students by zipcode, graph all accountability index zips by year
```


```{r}
per_pupil_parsed <- per_pupil_all |>
  mutate(total = parse_number(total))
```

```{r}
#im going to use this to find the towns with the lowest and highest accountability index in 2022 and to make a map. i am going to create a double bar chart comparing average per pupil funding for 2022 in each town with this accountability index for 2022

#accountability index filter and averaging (average of districts in each town, i think town may be more readable in a graphic)

zip_percentage_graphic <- zip_percentage |>
  filter(fall_of_year == "2022")

pct_graphic <- zip_percentage_graphic |>
  select(town, accountability_index, fall_of_year)

pct_graphic |>
  group_by(town) |>
  summarise(
    avg_accountability_index = mean(accountability_index, na.rm = TRUE),
    .groups = "drop"
  )


#averaging the per pupil funding
per_pupil_graphic <-per_pupil_parsed |>
  filter(year == "21-22")

pp_graphic <- per_pupil_graphic|>
  select(total, town, year)

pp_graphic |>
  group_by(town) |>
  summarise(
    total = mean(total, na.rm = TRUE),
    .groups = "drop"
  )





```

```{r}
str(per_pupil_all)
```



>>>>>>> 56d6ff4aee52105fbf63cf08637896155c4b8e2b


